<html>

<head>
  <title>Kaustik API Demo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script type="text/javascript" src="frontend.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.tabs').tabs()

      $('.modal').modal()
      $('#connect-modal').modal("open")
      $("#messages").hide()
    });
  </script>
</head>

<body>
  <div id="connect-modal" class="modal">
    <div class="modal-content">
      <h4>Connect</h4>
      <form class="col s12">
        <div id="connect" class="col s12">
          <div class="row">
            <div class="input-field s12">
              <input id="url" type="url" class="validate" value="https://test.aiai.se">
              <label for="url">Kaustik API host URL</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="_oauth_token_url" type="text" class="validate" value="">
              <label for="_oauth_token_url">OAuth Token URL</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input id="_client_id" type="text" class="validate" value="">
              <label for="_client_id">API Client Id</label>
            </div>
            <div class="input-field col s6">
              <input id="_client_secret" type="text" class="validate" value="">
              <label for="_client_secret">API Client Secret</label>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat" onclick="javascript:connect()" href="#">Connect</a>
    </div>
  </div>
  <div id="main" class="row" style="display:none">
    <form class="col s12">
      <a class="waves-effect waves-light btn modal-trigger" href="#connect-modal">Reconnect</a>
      <div class="row">
        <div class="col s12">
          <ul class="tabs">
            <li class="tab col s3 disabled"><a href="#createuser">Create User</a></li>
            <li class="tab col s3 disabled"><a href="#assignrole">Assign Role</a></li>
            <li class="tab col s3 disabled"><a href="#getuser">Get User</a></li>
            <li class="tab col s3 disabled"><a href="#importdecision">Import Decision</a></li>
          </ul>
        </div>
        <div id="createuser" class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="username" type="text" class="validate" value="">
              <label for="username">Enter user login name</label>
            </div>
            <div class="input-field col s6">
              <input id="email" type="email" class="validate" value="">
              <label for="email">Enter user email</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input id="firstname" type="text" class="validate" value="">
              <label for="firstname">Enter user first name</label>
            </div>
            <div class="input-field col s6">
              <input id="lastname" type="text" class="validate" value="">
              <label for="lastname">Enter user last name</label>
            </div>
          </div>
          <div class="row">
            <a class="waves-effect waves-light btn" onclick="javascript:createUser()" href="#">Create user</a>
          </div>
        </div>
        <div id="assignrole" class="col s12">
          <div class="row">
            <div class="input-field s12">
              <input id="role_user_id" type="number" class="validate">
              <label for="role_user_id" class="active">User Id</label>
            </div>
          </div>
          <div class="row">
            <a class="waves-effect waves-light btn" onclick="javascript:makeUserEmployee()" href="#">Make user Employee</a>
          </div>
        </div>
        <div id="getuser" class="col s12">
          <div class="row">
            <div class="input-field s12">
              <input id="user_id" type="number" class="validate" value="38">
              <label for="user_id" class="active">User Id</label>
            </div>
          </div>
          <div class="row">
            <a class="waves-effect waves-light btn" onclick="javascript:getEmployee()" href="#">Get Employee</a>
          </div>
        </div>
        <div id="importdecision" class="col s12">
          <div class="row">
            <div class="input-field s12">
              <div class="file-field input-field">
                <div class="btn">
                  <span>File</span>
                  <input id="decisionfile" type="file" multiple>
                </div>
                <div class="file-path-wrapper">
                  <input class="file-path validate" type="text" placeholder="Upload one or more files">
                </div>
              </div>
              <a class="waves-effect waves-light btn col" onclick="javascript:uploadDecision()">Upload</a>
            </div>
          </div>
          <div class="row">
            <table>
              <thead>
                <tr>
                    <th>Decision</th>
                    <th>Start</th>
                    <th>End</th>
                </tr>
              </thead>
              <tbody id="decisionrows">
                <tr>
                  <td>&nbsp;</td>
                  <td>Please choose a file to upload</td>
                  <td>&nbsp;</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="row">
    <div id="messages">
      No messages
    </div>
  </div>

</body>
